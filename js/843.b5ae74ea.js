"use strict";(self["webpackChunkyour_economics"]=self["webpackChunkyour_economics"]||[]).push([[843],{9843:function(e,t,r){r.r(t),r.d(t,{default:function(){return x}});var c=r(3396),n=r(7139);const s={class:"page-title"},a=(0,c._)("i",{class:"material-icons"},"refresh",-1),l=[a],i={key:1,class:"row"};function o(e,t,r,a,o,u){const d=(0,c.up)("loader"),h=(0,c.up)("home-bill"),y=(0,c.up)("home-currency");return(0,c.wg)(),(0,c.iD)("div",null,[(0,c._)("div",s,[(0,c._)("h3",null,(0,n.zw)(u.localize("bill")),1),(0,c._)("button",{class:"btn waves-effect waves-light btn-small",onClick:t[0]||(t[0]=(...e)=>u.refresh&&u.refresh(...e))},l)]),o.isLoading?((0,c.wg)(),(0,c.j4)(d,{key:0})):((0,c.wg)(),(0,c.iD)("div",i,[(0,c.Wm)(h,{rates:o.currency.rates},null,8,["rates"]),(0,c.Wm)(y,{rates:o.currency.rates,date:o.currency.date},null,8,["rates","date"])]))])}const u={class:"col s12 m6 l4"},d={class:"card light-blue bill-card"},h={class:"card-content white-text"},y={class:"card-title"};function g(e,t,r,s,a,l){return(0,c.wg)(),(0,c.iD)("div",u,[(0,c._)("div",d,[(0,c._)("div",h,[(0,c._)("span",y,(0,n.zw)(l.localize("AccountCurrency")),1),((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(a.currencies,(e=>((0,c.wg)(),(0,c.iD)("p",{class:"currency-line",key:e},[(0,c._)("span",null,(0,n.zw)(l.getCurrency(e)),1)])))),128))])])])}var m=r(5632),w={props:{rates:Object},data(){return{currencies:["RUB","USD","EUR","TRY"]}},computed:{base(){return this.$store.getters.info.bill/(this.rates["RUB"]/this.rates["EUR"])}},methods:{localize:m.Z,currencyFilter(e,t="RUB"){return new Intl.NumberFormat("ru-RU",{style:"currency",currency:t}).format(e)},getCurrency(e){const t=Math.floor(this.base*this.rates[e]);return this.currencyFilter(t,e)}}},_=r(89);const f=(0,_.Z)(w,[["render",g]]);var p=f;const z={class:"col s12 m6 l8"},b={class:"card orange darken-3 bill-card"},v={class:"card-content white-text"},D={class:"card-header"},R={class:"card-title"};function U(e,t,r,s,a,l){return(0,c.wg)(),(0,c.iD)("div",z,[(0,c._)("div",b,[(0,c._)("div",v,[(0,c._)("div",D,[(0,c._)("span",R,(0,n.zw)(l.localize("exchangeRate")),1)]),(0,c._)("table",null,[(0,c._)("thead",null,[(0,c._)("tr",null,[(0,c._)("th",null,(0,n.zw)(l.localize("currency")),1),(0,c._)("th",null,(0,n.zw)(l.localize("rate")),1),(0,c._)("th",null,(0,n.zw)(l.localize("date")),1)])]),(0,c._)("tbody",null,[((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(a.currencies,(e=>((0,c.wg)(),(0,c.iD)("tr",{key:e},[(0,c._)("td",null,(0,n.zw)(e),1),(0,c._)("td",null,(0,n.zw)(r.rates[e].toFixed(2)),1),(0,c._)("td",null,(0,n.zw)(l.dateFilter(r.date)),1)])))),128))])])])])])}var k=r(9578),C={props:{rates:Object,date:String},data(){return{currencies:["RUB","USD","EUR","TRY"],format:"date"}},methods:{localize:m.Z,dateFilter(e,t=this.format){const r=k.Z.getters.info.locale||"ru-RU",c=Date.parse(e),n={};return t.includes("date")&&(n.day="2-digit",n.month="long",n.year="numeric"),t.includes("time")&&(n.hour="2-digit",n.minute="2-digit",n.second="2-digit"),new Intl.DateTimeFormat(r,n).format(c)}}};const F=(0,_.Z)(C,[["render",U]]);var Z=F,B={components:{HomeBill:p,HomeCurrency:Z},data(){return{isLoading:!0,currency:null}},async mounted(){this.currency=await this.$store.dispatch("fetchCurrency"),console.log(this.currency.rates),this.isLoading=!1},methods:{localize:m.Z,async refresh(){this.isLoading=!0,this.currency=await this.$store.dispatch("fetchCurrency"),console.log(this.currency.rates),this.isLoading=!1}}};const L=(0,_.Z)(B,[["render",o]]);var x=L}}]);
//# sourceMappingURL=843.b5ae74ea.js.map